#The bootstrap yaml files are loaded, like thie one, by a parent spring application context, so it will be loaded before
#application yaml file. And for the spring cloud, we need to set bootstrap phase configurations in this
#  file, **because this bootstrap yaml file will be used to obtain the application configuration from the
#  config server repository** prior to loading application yaml file.

#  This file tells the Spring Cloud Config service what port to listen in on, the
#  application name, the application profiles, and the location where we will store the
#  configuration data.
server:
  port: 8888
spring:
  application:
    name: configserver
  cloud:
    config:
      server:
        git:
          #We set the file path of the config server repository in this Uri definition.
#          uri: file:///C:/projects/repos/microservices-demo/config-server-repository
          uri: https://github.com/ferransv/config-server-repository
          #GitHub user/password
          username: ferransv
          password: ENC(XJy8kaDiORV6F36neGELmU1PDSajS2ySopjghAwiJ9MGS3qx7S/vTHrY5/dRm24B8Qoed6E2eWg5HUD/pnxmebA96lLFypUrabrNDuK5Fj0=)
#          password: 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
          #Configuration servers clones the config-server-repository in git on the start up
          clone-on-start: true
          default-label: master #def. label in github
    #If config server cannot reach to config server repository and load the configuration it will stop inmediatelly
    fail-fast: true

  #local config-server user/password
  security:
    user:
      name: spring_cloud_user
#      password: springCloud_Pwd!
      password: ENC(G8d+6ofS9lpz+XDjCHVgeXKHGXePyVPdsbumynBzDPI1ev60pjnfYnexBp/5H9eeYaJ0XAx6+aciIhES+8VQEg==)

#  Now we need to add Jasypt encrypter password CONFIGURATION to the bootstrap yaml file to be able
#  to DECRYPT with this KEY both passwords (the GitHub and config-server ones) at runtime.
jasypt:
  encryptor:
    password: Demo_Pwd!2020 #Better than pass it here directly(like it is here in commented out),
#    ->Preferable solution to be used: pass this key when the application starts through env var JASYPT_ENCRYPTOR_PASSWORD=Demo_Pwd!2020,
#  and it wil be transformed to


#    algorithm: PBEWithHMACSHA512AndAES_256
